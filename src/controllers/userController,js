const User = require("../model/User");

async function getProfile(req, res) {
  const { user, mobile } = req.body;
  const profile = await User.findOne({
    $or: [
      {
        username: user,
      },
      {
        mobile,
      },
    ],
  }).exec();
  if (!profile)
    return res.status(401).json({ message: "User id is incorrect." });
  //   delete profile._id;
  delete profile.__v;
  delete profile.password;
  res.json({ profile });
}

module.exports = { getProfile };
